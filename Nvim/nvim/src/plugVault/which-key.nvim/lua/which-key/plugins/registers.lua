local a={}a.name="registers"a.actions={{trigger='"',mode={"n","v"}},{trigger="<c-r>",mode={"i","c"}}}a.registers='*+"-:.%/#=_abcdefghijklmnopqrstuvwxyz0123456789'local b={['"']="last deleted, changed, or yanked content",["0"]="last yank",["-"]="deleted or changed content smaller than one line",["."]="last inserted text",["%"]="name of the current file",[":"]="most recent executed command",["#"]="alternate buffer",["="]="result of an expression",["+"]="synchronized with the system clipboard",["*"]="synchronized with the selection clipboard",["_"]="black hole",["/"]="last search pattern"}a.replace={["<Space>"]=" ",["<lt>"]="<",["<NL>"]="\n",["\r"]=""}function a.expand()local c={}local d=vim.g.clipboard and vim.g.clipboard.name=="OSC 52"for e=1,#a.registers,1 do local f=a.registers:sub(e,e)local g=""if d and vim.tbl_contains({"+","*"},f)then g="OSC 52 detected, register not checked to maintain compatibility"else local h,i=pcall(vim.fn.getreg,f,1)g=h and i or""end;if g~=""then g=vim.fn.keytrans(g)for j,k in pairs(a.replace)do g=g:gsub(j,k)end;table.insert(c,{key=f,desc=b[f]or"",value=g})end end;return c end;return a
