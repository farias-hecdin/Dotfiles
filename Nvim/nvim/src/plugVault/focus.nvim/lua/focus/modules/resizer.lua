local a=require('focus.modules.utils')local b={}local c=1.618;local d=function()local e=vim.o.columns;return math.floor(e/c)end;local f=function()return math.floor(d()/(3*c))end;local g=function()local h=vim.o.lines;return math.floor(h/c)end;local i=function()return math.floor(g()/(3*c))end;local function j()local k={}for l,m in ipairs(vim.api.nvim_tabpage_list_wins(0))do if vim.api.nvim_win_get_config(m).zindex==nil then local n=vim.api.nvim_win_get_buf(m)if vim.w[m].focus_disable or vim.b[n].focus_disable then k[m]={width=vim.api.nvim_win_get_width(m),height=vim.api.nvim_win_get_height(m)}end end end;return k end;local function o(k)for m,p in pairs(k)do if vim.api.nvim_win_is_valid(m)then vim.api.nvim_win_set_width(m,p.width)vim.api.nvim_win_set_height(m,p.height)end end end;function b.autoresize(q)local r;if q.autoresize.width>0 then r=q.autoresize.width else r=d()if q.autoresize.minwidth>0 then r=math.max(r,q.autoresize.minwidth)elseif r<f()then r=f()end end;local s;if q.autoresize.height>0 then s=q.autoresize.height else s=g()if q.autoresize.minheight>0 then s=math.max(s,q.autoresize.minheight)elseif s<i()then s=i()end end;local t=vim.o.cmdheight;local u=j()vim.api.nvim_win_set_width(0,r)vim.api.nvim_win_set_height(0,s)o(u)vim.o.cmdheight=t end;function b.equalise()vim.api.nvim_exec2('wincmd =',{output=false})end;function b.maximise()local r,s=vim.o.columns,vim.o.lines;local u=j()vim.api.nvim_win_set_width(0,r)vim.api.nvim_win_set_height(0,s)o(u)end;b.goal='autoresize'function b.split_resizer(q,v)if v then b.goal=v end;if a.is_disabled()or vim.api.nvim_win_get_option(0,'diff')or vim.api.nvim_win_get_config(0).zindex~=nil or not q.autoresize.enable then vim.o.winminwidth=1;vim.o.winminheight=1;vim.o.winwidth=1;vim.o.winheight=1;return else if q.autoresize.minwidth>0 then if vim.o.winwidth<q.autoresize.minwidth then vim.o.winwidth=q.autoresize.minwidth end;vim.o.winminwidth=q.autoresize.minwidth end;if q.autoresize.minheight>0 then if vim.o.winheight<q.autoresize.minheight then vim.o.winheight=q.autoresize.minheight end;vim.o.winminheight=q.autoresize.minheight end end;if vim.bo.filetype=='qf'and q.autoresize.height_quickfix>0 then vim.api.nvim_win_set_height(0,q.autoresize.height_quickfix)return end;b[b.goal](q)end;return b
