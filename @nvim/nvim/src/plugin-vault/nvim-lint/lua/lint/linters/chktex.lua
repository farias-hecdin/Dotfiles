local a='(%d+):(%d+):(%d+):(.+):(%d+):(.*)'local b={Error=vim.diagnostic.severity.ERROR,Warning=vim.diagnostic.severity.WARN,Message=vim.diagnostic.severity.INFO}return{cmd='chktex',stdin=true,args={'-v0','-I0','-s',':','-f','%l%b%c%b%d%b%k%b%n%b%m%b%b%b'},parser=function(c,d)local e=vim.fn.split(c,":::")local f={}for d,g in ipairs(e)do local h,i,j,k,l,m=string.match(g,a)h=tonumber(h or 1)-1;i=tonumber(i or 1)-1;j=tonumber(j or 1)table.insert(f,{source='chktex',lnum=h,col=i,end_lnum=h,end_col=i+j,message=m,severity=assert(b[k],'missing mapping for severity '..k),code=l,user_data={lsp={code=l}}})end;return f end}
