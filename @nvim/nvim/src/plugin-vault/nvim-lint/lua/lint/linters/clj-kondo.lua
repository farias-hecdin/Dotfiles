local a={error=vim.diagnostic.severity.ERROR,warning=vim.diagnostic.severity.WARN}local function b()return vim.api.nvim_buf_get_name(0)end;return{cmd='clj-kondo',stdin=true,stream='stdout',ignore_exitcode=true,args={'--config','{:output {:format :json}}','--filename',b,'--lint','-'},parser=function(c)local d=vim.json.decode(c)or{}local e=d.findings;local f={}for g,h in pairs(e or{})do table.insert(f,{lnum=h.row-1,col=h.col,end_lnum=h.row-1,end_col=h.col,severity=assert(a[h.level],'missing mapping for severity '..h.level),message=h.message})end;return f end}
