return{cmd='languagetool',args={'--autoDetect','--json'},stream='stdout',parser=function(a,b)local c=vim.json.decode(a)local d={}local e=vim.api.nvim_buf_get_lines(b,0,-1,true)local f=table.concat(e,'\n')for g,h in pairs(c.matches or{})do local i=vim.fn.byteidx(f,h.offset)local j=vim.fn.byte2line(i)local k=i-vim.fn.line2byte(j)table.insert(d,{lnum=j-1,end_lnum=j-1,col=k+1,end_col=k+1,message=h.message})end;return d end}
