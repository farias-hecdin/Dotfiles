local a={['fatal']=vim.diagnostic.severity.ERROR,['error']=vim.diagnostic.severity.ERROR,['warning']=vim.diagnostic.severity.WARN,['convention']=vim.diagnostic.severity.HINT,['refactor']=vim.diagnostic.severity.INFO,['info']=vim.diagnostic.severity.INFO}return{cmd='rubocop',stdin=false,args={'--format','json','--force-exclusion'},ignore_exitcode=true,parser=function(b)local c={}local d=vim.json.decode(b)if not d.files[1]then return c end;local e=d.files[1].offenses;for f,g in pairs(e)do table.insert(c,{source='rubocop',lnum=g.location.start_line-1,col=g.location.start_column-1,end_lnum=g.location.last_line-1,end_col=g.location.last_column,severity=a[g.severity],message=g.message,code=g.cop_name})end;return c end}
