local a=require("which-key.keys")local b=require("which-key.util")local c=require("which-key.config")local d={}d.plugins={}function d.setup()for e,f in pairs(c.options.plugins)do if not d.plugins[e]then if type(f)=="boolean"then f={enabled=f}end;f.enabled=f.enabled~=false;if f.enabled then d.plugins[e]=require("which-key.plugins."..e)d._setup(d.plugins[e],f)end end end end;function d._setup(g,f)if g.actions then for h,i in pairs(g.actions)do local j=i.trigger;local k=i.mode or"n"local l=i.label or g.name;a.register({[j]={l,plugin=g.name}},{mode=k})end end;if g.setup then g.setup(require("which-key"),f,c.options)end end;function d.invoke(m,n)local g=d.plugins[m.plugin]local j=m.prefix;local o=g.run(j,n.mode,n.buf)local p={}for q,r in ipairs(o)do r.order=q;r.keys=b.parse_keys(j..r.key)r.prefix=j..r.key;table.insert(p,r)end;return p end;return d
