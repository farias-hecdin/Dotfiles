local a=require"fzf-lua.path"local b=require"fzf-lua.utils"local c=require"fzf-lua.config"do local d=debug.getinfo(1,"S").source:gsub("^@","")vim.g.fzf_lua_directory=a.parent(d)if not vim.g.loaded_fzf_lua then local e=a.join({a.parent(a.parent(vim.g.fzf_lua_directory)),"plugin","fzf-lua.vim"})if vim.loop.fs_stat(e)then vim.cmd(("source %s"):format(e))end end;if not vim.g.fzf_lua_server then vim.g.fzf_lua_server=vim.fn.serverstart()end end;local f={}function f.setup_highlights(g)local h=not g;local i={{"FzfLuaNormal","normal",{default=h,link="Normal"}},{"FzfLuaBorder","border",{default=h,link="Normal"}},{"FzfLuaTitle","title",{default=h,link="FzfLuaNormal"}},{"FzfLuaHelpNormal","help_normal",{default=h,link="FzfLuaNormal"}},{"FzfLuaHelpBorder","help_border",{default=h,link="FzfLuaBorder"}},{"FzfLuaPreviewNormal","preview_normal",{default=h,link="FzfLuaNormal"}},{"FzfLuaPreviewBorder","preview_border",{default=h,link="FzfLuaBorder"}},{"FzfLuaPreviewTitle","preview_title",{default=h,link="FzfLuaTitle"}},{"FzfLuaCursor","cursor",{default=h,link="Cursor"}},{"FzfLuaCursorLine","cursorline",{default=h,link="CursorLine"}},{"FzfLuaCursorLineNr","cursorlinenr",{default=h,link="CursorLineNr"}},{"FzfLuaSearch","search",{default=h,link="IncSearch"}},{"FzfLuaScrollBorderEmpty","scrollborder_e",{default=h,link="FzfLuaBorder"}},{"FzfLuaScrollBorderFull","scrollborder_f",{default=h,link="FzfLuaBorder"}},{"FzfLuaScrollFloatEmpty","scrollfloat_e",{default=h,link="PmenuSbar"}},{"FzfLuaScrollFloatFull","scrollfloat_f",{default=h,link="PmenuThumb"}},{"FzfLuaHeaderBind","header_bind",{default=h,fg="BlanchedAlmond"}},{"FzfLuaHeaderText","header_text",{default=h,fg="Brown1"}},{"FzfLuaBufName","buf_name",{default=h,fg="LightMagenta"}},{"FzfLuaBufNr","buf_nr",{default=h,fg="BlanchedAlmond"}},{"FzfLuaBufLineNr","buf_linenr",{default=h,fg="MediumSpringGreen"}},{"FzfLuaBufFlagCur","buf_flag_cur",{default=h,fg="Brown1"}},{"FzfLuaBufFlagAlt","buf_flag_alt",{default=h,fg="CadetBlue1"}},{"FzfLuaTabTitle","tab_title",{default=h,fg="LightSkyBlue1",bold=true}},{"FzfLuaTabMarker","tab_marker",{default=h,fg="BlanchedAlmond",bold=true}}}for j,k in ipairs(i)do local l,j,m=k[1],k[2],k[3]if b.__HAS_NVIM_07 then vim.api.nvim_set_hl(0,l,m)else if m.link then vim.cmd(string.format("hi! %s link %s %s",m.default and"default"or"",l,m.link))else vim.cmd(string.format("hi! %s %s %s%s%s",m.default and"default"or"",l,m.fg and string.format(" guifg=%s",m.fg)or"",m.bg and string.format(" guibg=%s",m.bg)or"",m.bold and" gui=bold"or""))end end end;if vim.fn.has("nvim-0.9")==0 and vim.fn.has("nvim-0.8")==1 then for j,k in ipairs(i)do local l,n=k[1],k[2]if b.is_hl_cleared(l)then b.map_set(c.globals,"__HLS."..n,"")end end end;b.COLORMAP()end;f.setup_highlights()function f.load_profile(o)local p=a.join({vim.g.fzf_lua_directory,"profiles",o..".lua"})return b.load_profile(p,nil,true)end;function f.setup(q,r)q=type(q)=="table"and q or{}if type(q[1])=="string"then local s=f.load_profile(q[1])if type(s)=="table"then q=vim.tbl_deep_extend("keep",q,s)end end;if not r then c.reset_defaults()end;local t=vim.tbl_deep_extend("keep",q,c.globals)for u,v in pairs({["keymap"]={"fzf","builtin"},["actions"]={"files","buffers"}})do for j,w in ipairs(v)do if q[u]and q[u][w]then t[u][w]=q[u][w]end end end;b.set_lua_io(t.lua_io)if t.nbsp then b.nbsp=t.nbsp end;c.globals=t;c.DEFAULTS.globals=t;f.setup_highlights()end;f.defaults=c.globals;f.redraw=function()local x=require"fzf-lua".win.__SELF()if x then x:redraw()end end;do local y={resume={"fzf-lua.core","fzf_resume"},files={"fzf-lua.providers.files","files"},args={"fzf-lua.providers.files","args"},grep={"fzf-lua.providers.grep","grep"},grep_last={"fzf-lua.providers.grep","grep_last"},grep_cword={"fzf-lua.providers.grep","grep_cword"},grep_cWORD={"fzf-lua.providers.grep","grep_cWORD"},grep_visual={"fzf-lua.providers.grep","grep_visual"},grep_curbuf={"fzf-lua.providers.grep","grep_curbuf"},grep_project={"fzf-lua.providers.grep","grep_project"},live_grep={"fzf-lua.providers.grep","live_grep"},live_grep_native={"fzf-lua.providers.grep","live_grep_native"},live_grep_resume={"fzf-lua.providers.grep","live_grep_resume"},live_grep_glob={"fzf-lua.providers.grep","live_grep_glob"},lgrep_curbuf={"fzf-lua.providers.grep","lgrep_curbuf"},tags={"fzf-lua.providers.tags","tags"},btags={"fzf-lua.providers.tags","btags"},tags_grep={"fzf-lua.providers.tags","grep"},tags_grep_cword={"fzf-lua.providers.tags","grep_cword"},tags_grep_cWORD={"fzf-lua.providers.tags","grep_cWORD"},tags_grep_visual={"fzf-lua.providers.tags","grep_visual"},tags_live_grep={"fzf-lua.providers.tags","live_grep"},git_files={"fzf-lua.providers.git","files"},git_status={"fzf-lua.providers.git","status"},git_stash={"fzf-lua.providers.git","stash"},git_commits={"fzf-lua.providers.git","commits"},git_bcommits={"fzf-lua.providers.git","bcommits"},git_branches={"fzf-lua.providers.git","branches"},oldfiles={"fzf-lua.providers.oldfiles","oldfiles"},quickfix={"fzf-lua.providers.quickfix","quickfix"},quickfix_stack={"fzf-lua.providers.quickfix","quickfix_stack"},loclist={"fzf-lua.providers.quickfix","loclist"},loclist_stack={"fzf-lua.providers.quickfix","loclist_stack"},buffers={"fzf-lua.providers.buffers","buffers"},tabs={"fzf-lua.providers.buffers","tabs"},lines={"fzf-lua.providers.buffers","lines"},blines={"fzf-lua.providers.buffers","blines"},help_tags={"fzf-lua.providers.helptags","helptags"},man_pages={"fzf-lua.providers.manpages","manpages"},colorschemes={"fzf-lua.providers.colorschemes","colorschemes"},highlights={"fzf-lua.providers.colorschemes","highlights"},jumps={"fzf-lua.providers.nvim","jumps"},changes={"fzf-lua.providers.nvim","changes"},tagstack={"fzf-lua.providers.nvim","tagstack"},marks={"fzf-lua.providers.nvim","marks"},menus={"fzf-lua.providers.nvim","menus"},keymaps={"fzf-lua.providers.nvim","keymaps"},autocmds={"fzf-lua.providers.nvim","autocmds"},registers={"fzf-lua.providers.nvim","registers"},commands={"fzf-lua.providers.nvim","commands"},command_history={"fzf-lua.providers.nvim","command_history"},search_history={"fzf-lua.providers.nvim","search_history"},spell_suggest={"fzf-lua.providers.nvim","spell_suggest"},filetypes={"fzf-lua.providers.nvim","filetypes"},packadd={"fzf-lua.providers.nvim","packadd"},lsp_finder={"fzf-lua.providers.lsp","finder"},lsp_typedefs={"fzf-lua.providers.lsp","typedefs"},lsp_references={"fzf-lua.providers.lsp","references"},lsp_definitions={"fzf-lua.providers.lsp","definitions"},lsp_declarations={"fzf-lua.providers.lsp","declarations"},lsp_implementations={"fzf-lua.providers.lsp","implementations"},lsp_document_symbols={"fzf-lua.providers.lsp","document_symbols"},lsp_workspace_symbols={"fzf-lua.providers.lsp","workspace_symbols"},lsp_live_workspace_symbols={"fzf-lua.providers.lsp","live_workspace_symbols"},lsp_code_actions={"fzf-lua.providers.lsp","code_actions"},lsp_incoming_calls={"fzf-lua.providers.lsp","incoming_calls"},lsp_outgoing_calls={"fzf-lua.providers.lsp","outgoing_calls"},lsp_document_diagnostics={"fzf-lua.providers.diagnostic","diagnostics"},lsp_workspace_diagnostics={"fzf-lua.providers.diagnostic","all"},diagnostics_document={"fzf-lua.providers.diagnostic","diagnostics"},diagnostics_workspace={"fzf-lua.providers.diagnostic","all"},dap_commands={"fzf-lua.providers.dap","commands"},dap_configurations={"fzf-lua.providers.dap","configurations"},dap_breakpoints={"fzf-lua.providers.dap","breakpoints"},dap_variables={"fzf-lua.providers.dap","variables"},dap_frames={"fzf-lua.providers.dap","frames"},register_ui_select={"fzf-lua.providers.ui_select","register"},deregister_ui_select={"fzf-lua.providers.ui_select","deregister"},tmux_buffers={"fzf-lua.providers.tmux","buffers"},profiles={"fzf-lua.providers.module","profiles"},fzf={"fzf-lua.core","fzf"},fzf_raw={"fzf-lua.fzf","raw_fzf"},fzf_wrap={"fzf-lua.core","fzf_wrap"},fzf_exec={"fzf-lua.core","fzf_exec"},fzf_live={"fzf-lua.core","fzf_live"},fzf_complete={"fzf-lua.complete","fzf_complete"},complete_path={"fzf-lua.complete","path"},complete_file={"fzf-lua.complete","file"},complete_line={"fzf-lua.complete","line"},complete_bline={"fzf-lua.complete","bline"}}for w,v in pairs(y)do f[w]=function(...)f[w]=function(...)f.set_info{cmd=w,mod=v[1],fnc=v[2]}return require(v[1])[v[2]](...)end;return f[w](...)end end end;f.get_info=function(z)if z and z.winobj and type(f.__INFO)=="table"then f.__INFO.winobj=b.fzf_winobj()end;return f.__INFO end;f.set_info=function(A)f.__INFO=A end;f.get_last_query=function()return f.config.__resume_data and f.config.__resume_data.last_query end;f.set_last_query=function(B)f.config.__resume_data=f.config.__resume_data or{}f.config.__resume_data.last_query=B end;f._exported_modules={"win","core","path","utils","libuv","shell","config","actions","make_entry"}f._excluded_meta={"load_profile","setup","fzf","fzf_raw","fzf_wrap","fzf_exec","fzf_live","fzf_complete","complete_path","complete_file","complete_line","complete_bline","defaults","_excluded_meta","_excluded_metamap","_exported_modules","__INFO","get_info","set_info","get_last_query","set_last_query"}for j,C in ipairs(f._exported_modules)do f[C]=require("fzf-lua."..C)end;f._excluded_metamap={}for j,u in pairs({f._excluded_meta,f._exported_modules})do for j,C in ipairs(u)do f._excluded_metamap[C]=true end end;f.builtin=function(q)if not q then q={}end;q.metatable=f;q.metatable_exclude=f._excluded_metamap;return require"fzf-lua.providers.module".metatable(q)end;return f
