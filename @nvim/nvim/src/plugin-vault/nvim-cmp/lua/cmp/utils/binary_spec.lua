local a=require('cmp.utils.binary')describe('utils.binary',function()it('insort',function()local b=function(c,d)return c.score-d.score end;local e={}a.insort(e,{id='a',score=1},b)a.insort(e,{id='b',score=5},b)a.insort(e,{id='c',score=2.5},b)a.insort(e,{id='d',score=2},b)a.insort(e,{id='e',score=8},b)a.insort(e,{id='g',score=8},b)a.insort(e,{id='h',score=7},b)a.insort(e,{id='i',score=6},b)a.insort(e,{id='j',score=4},b)assert.are.equal(e[1].id,'a')assert.are.equal(e[2].id,'d')assert.are.equal(e[3].id,'c')assert.are.equal(e[4].id,'j')assert.are.equal(e[5].id,'b')assert.are.equal(e[6].id,'i')assert.are.equal(e[7].id,'h')assert.are.equal(e[8].id,'e')assert.are.equal(e[9].id,'g')end)end)
