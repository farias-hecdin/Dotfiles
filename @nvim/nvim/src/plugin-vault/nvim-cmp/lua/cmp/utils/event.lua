local a={}a.new=function()local self=setmetatable({},{__index=a})self.events={}return self end;a.on=function(self,b,c)if not self.events[b]then self.events[b]={}end;table.insert(self.events[b],c)return function()self:off(b,c)end end;a.off=function(self,b,c)for d,e in ipairs(self.events[b]or{})do if e==c then table.remove(self.events[b],d)break end end end;a.clear=function(self)self.events={}end;a.emit=function(self,b,...)for f,c in ipairs(self.events[b]or{})do c(...)end end;return a
