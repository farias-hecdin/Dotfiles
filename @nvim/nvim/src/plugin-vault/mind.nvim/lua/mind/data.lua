local a={}local b=require'mind.notify'.notify;local c=require'plenary.path'a.new_data_file=function(d,e,f,g,h)local i=c:new(d)if not i:exists()then i:mkdir({parents=true})end;e=e:gsub('[^%w-]',' ')e=e:gsub('%s+','-')e=e:gsub('-+','-')e=e:gsub('^-','')e=e:gsub('-$','')local j=vim.fn.strftime('%Y%m%d%H%M%S-')..e..f;local k=c:new(d,j)local l=h and k:expand()or tostring(k)local m=io.open(l,'w')if m==nil then b('cannot open data file: '..l)return nil end;m:write(g)m:close()return l end;a.delete_data_file=function(l)os.remove(l)end;return a
