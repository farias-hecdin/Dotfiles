local a=require('focus.modules.utils')local b=vim.api.nvim_command;local vim=vim;local c={}local function d(e)for f,g in pairs(e)do b('augroup '..f)b('autocmd!')for h,i in ipairs(g)do local j=table.concat(vim.tbl_flatten({'autocmd',i}),' ')b(j)end;b('augroup END')end end;local function k()local l='auto'if vim.opt.signcolumn:get()=='no'then return l else return vim.opt.signcolumn:get()end end;c.run_cmd=function(m,j)if not a.is_buffer_filetype_excluded(m)then b(j)end end;function c.setup(m)local n={}if m.autoresize then n['focus_resize']={{'BufEnter','*','doautocmd WinScrolled | lua require"focus".resize()'},{'WinEnter,BufEnter','NvimTree_*','lua require"focus".resize()'}}end;if m.signcolumn then n['focus_signcolumn']={{'BufEnter,WinEnter','*','lua require"focus".run_cmd("setlocal signcolumn='..k()..'")'},{'BufLeave,WinLeave','*','lua require"focus".run_cmd("setlocal signcolumn=no")'}}end;if m.cursorline then n['focus_cursorline']={{'BufEnter,WinEnter','*','lua require"focus".run_cmd("setlocal cursorline")'},{'BufLeave,WinLeave','*','lua require"focus".run_cmd("setlocal nocursorline")'}}end;if m.number then n['number']={{'BufEnter,WinEnter','*','lua require"focus".run_cmd("set number")'},{'BufLeave,WinLeave','*','lua require"focus".run_cmd("setlocal nonumber")'}}end;if m.relativenumber then if m.absolutenumber_unfocussed then n['focus_relativenumber']={{'BufEnter,WinEnter','*','lua require"focus".run_cmd("set nonumber relativenumber")'},{'BufLeave,WinLeave','*','lua require"focus".run_cmd("setlocal number norelativenumber")'}}else n['focus_relativenumber']={{'BufEnter,WinEnter','*','lua require"focus".run_cmd("set nonumber relativenumber")'},{'BufLeave,WinLeave','*','lua require"focus".run_cmd("setlocal nonumber norelativenumber")'}}end end;if m.hybridnumber then if m.absolutenumber_unfocussed then n['focus_hybridnumber']={{'BufEnter,WinEnter','*','lua require"focus".run_cmd("set number relativenumber")'},{'BufLeave,WinLeave','*','lua require"focus".run_cmd("setlocal number norelativenumber")'}}else n['focus_hybridnumber']={{'BufEnter,WinEnter','*','lua require"focus".run_cmd("set number relativenumber")'},{'BufLeave,WinLeave','*','lua require"focus".run_cmd("setlocal nonumber norelativenumber")'}}end end;if m.cursorcolumn then n['focus_cursorcolumn']={{'BufEnter,WinEnter','*','lua require"focus".run_cmd("setlocal cursorcolumn")'},{'BufLeave,WinLeave','*','lua require"focus".run_cmd("setlocal nocursorcolumn")'}}end;if m.colorcolumn.enable then n['focus_colorcolumn']={{'BufEnter,WinEnter','*','lua require"focus".run_cmd("setlocal colorcolumn='..m.colorcolumn.width..'")'},{'BufLeave,WinLeave','*','lua require"focus".run_cmd("setlocal colorcolumn=0")'}}end;d(n)end;return c
