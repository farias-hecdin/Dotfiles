local a=require"fzf-lua.utils"local b=require"fzf-lua.actions"local c=require"fzf-lua.previewer"local d={}d._has_devicons=pcall(require,"nvim-web-devicons")function d._default_previewer_fn()local e=d.globals.default_previewer or d.globals.winopts.preview.default;return type(e)=="function"and e()or e end;d.defaults={nbsp=a.nbsp,global_resume=true,winopts={height=0.85,width=0.80,row=0.35,col=0.55,border="rounded",fullscreen=false,preview={default="builtin",border="border",wrap="nowrap",hidden="nohidden",vertical="down:45%",horizontal="right:60%",layout="flex",flip_columns=120,title=true,title_align="left",scrollbar="border",scrolloff="-2",scrollchar="",scrollchars={"█",""},delay=100,winopts={number=true,relativenumber=false,cursorline=true,cursorlineopt="both",cursorcolumn=false,signcolumn="no",list=false,foldenable=false,foldmethod="manual",scrolloff=1}},_borderchars={["none"]={" "," "," "," "," "," "," "," "},["single"]={"┌","─","┐","│","┘","─","└","│"},["double"]={"╔","═","╗","║","╝","═","╚","║"},["rounded"]={"╭","─","╮","│","╯","─","╰","│"},["thicc"]={"┏","━","┓","┃","┛","━","┗","┃"}},on_create=function()end},keymap={builtin={["<F1>"]="toggle-help",["<F2>"]="toggle-fullscreen",["<F3>"]="toggle-preview-wrap",["<F4>"]="toggle-preview",["<F5>"]="toggle-preview-ccw",["<F6>"]="toggle-preview-cw",["<S-down>"]="preview-page-down",["<S-up>"]="preview-page-up",["<S-left>"]="preview-page-reset"},fzf={["ctrl-z"]="abort",["ctrl-u"]="unix-line-discard",["ctrl-f"]="half-page-down",["ctrl-b"]="half-page-up",["ctrl-a"]="beginning-of-line",["ctrl-e"]="end-of-line",["alt-a"]="toggle-all",["f3"]="toggle-preview-wrap",["f4"]="toggle-preview",["shift-down"]="preview-page-down",["shift-up"]="preview-page-up"}},actions={files={["default"]=b.file_edit_or_qf,["ctrl-s"]=b.file_split,["ctrl-v"]=b.file_vsplit,["ctrl-t"]=b.file_tabedit,["alt-q"]=b.file_sel_to_qf,["alt-l"]=b.file_sel_to_ll},buffers={["default"]=b.buf_edit,["ctrl-s"]=b.buf_split,["ctrl-v"]=b.buf_vsplit,["ctrl-t"]=b.buf_tabedit}},fzf_bin=nil,fzf_opts={["--ansi"]="",["--info"]="inline",["--height"]="100%",["--layout"]="reverse",["--border"]="none"},fzf_tmux_opts={["-p"]="80%,80%",["--margin"]="0,0"},previewers={cat={cmd="cat",args="-n",_ctor=c.fzf.cmd},bat={cmd="bat",args="--italic-text=always --style=numbers,changes --color always",theme=nil,config=nil,_ctor=c.fzf.bat_async},bat_native={cmd="bat",args="--italic-text=always --style=numbers,changes --color always",_ctor=c.fzf.bat},bat_async={cmd="bat",args="--italic-text=always --style=numbers,changes --color always",_ctor=c.fzf.bat_async},head={cmd="head",args=nil,_ctor=c.fzf.head},git_diff={cmd_deleted="git diff --color HEAD --",cmd_modified="git diff --color HEAD",cmd_untracked="git diff --color --no-index /dev/null",_fn_git_icons=function()return d.globals.git.icons end,_ctor=c.fzf.git_diff},man={cmd=a.is_darwin()and"man -P cat %s | col -bx"or"man -c %s | col -bx",_ctor=c.builtin.man_pages},man_native={_ctor=c.fzf.man_pages},help_tags={split="botright",_ctor=c.builtin.help_tags},help_file={_ctor=c.builtin.help_file},help_native={_ctor=c.fzf.help_tags},builtin={syntax=true,syntax_delay=0,syntax_limit_l=0,syntax_limit_b=1024*1024,limit_b=1024*1024*10,treesitter={enable=true,disable={}},ueberzug_scaler="cover",_ctor=c.builtin.buffer_or_file}}}d.defaults.files={previewer=d._default_previewer_fn,prompt="> ",cmd=nil,multiprocess=true,file_icons=true and d._has_devicons,color_icons=true,git_icons=true,git_status_cmd={"git","status","-s"},find_opts=[[-type f -not -path '*/\.git/*' -printf '%P\n']],rg_opts="--color=never --files --hidden --follow -g '!.git'",fd_opts="--color=never --type f --hidden --follow --exclude .git",_actions=function()return d.globals.actions.files end}d.defaults.git={files={previewer=d._default_previewer_fn,prompt="GitFiles> ",cmd="git ls-files --exclude-standard",multiprocess=true,file_icons=true and d._has_devicons,color_icons=true,git_icons=true,_actions=function()return d.globals.actions.files end},status={prompt="GitStatus> ",cmd="git -c color.status=false status -s",previewer="git_diff",file_icons=true and d._has_devicons,color_icons=true,git_icons=true,_actions=function()return d.globals.actions.files end,actions={["right"]={b.git_unstage,b.resume},["left"]={b.git_stage,b.resume}}},commits={prompt="Commits> ",cmd="git log --color --pretty=format:'%C(yellow)%h%Creset %Cgreen(%><(12)%cr%><|(12))".."%Creset %s %C(blue)<%an>%Creset'",preview="git show --pretty='%Cred%H%n%Cblue%an <%ae>%n%C(yellow)%cD%n%Cgreen%s' --color {1}",actions={["default"]=b.git_checkout}},bcommits={prompt="BCommits> ",cmd="git log --color --pretty=format:'%C(yellow)%h%Creset %Cgreen(%><(12)%cr%><|(12))".."%Creset %s %C(blue)<%an>%Creset' <file>",preview="git diff --color {1}~1 {1} -- <file>",actions={["default"]=b.git_buf_edit,["ctrl-s"]=b.git_buf_split,["ctrl-v"]=b.git_buf_vsplit,["ctrl-t"]=b.git_buf_tabedit}},branches={prompt="Branches> ",cmd="git branch --all --color",preview="git log --graph --pretty=oneline --abbrev-commit --color {1}",actions={["default"]=b.git_switch}},stash={prompt="Stash> ",cmd="git --no-pager stash list",preview="git --no-pager stash show --patch --color {1}",actions={["default"]=b.git_stash_apply,["ctrl-x"]={b.git_stash_drop,b.resume}},fzf_opts={["--no-multi"]="",["--delimiter"]="'[:]'"}},icons={["M"]={icon="M",color="yellow"},["D"]={icon="D",color="red"},["A"]={icon="A",color="green"},["R"]={icon="R",color="yellow"},["C"]={icon="C",color="yellow"},["T"]={icon="T",color="magenta"},["?"]={icon="?",color="magenta"}}}d.defaults.grep={previewer=d._default_previewer_fn,prompt="Rg> ",input_prompt="Grep For> ",cmd=nil,multiprocess=true,file_icons=true and d._has_devicons,color_icons=true,git_icons=true,grep_opts=a.is_darwin()and"--binary-files=without-match --line-number --recursive --color=always --extended-regexp"or"--binary-files=without-match --line-number --recursive --color=always --perl-regexp",rg_opts="--column --line-number --no-heading --color=always --smart-case ".."--max-columns=4096",_actions=function()return d.globals.actions.files end,actions={["ctrl-g"]={b.grep_lgrep}},glob_flag="--iglob",glob_separator="%s%-%-"}d.defaults.args={previewer=d._default_previewer_fn,prompt="Args> ",files_only=true,file_icons=true and d._has_devicons,color_icons=true,git_icons=true,_actions=function()return d.globals.actions.files end,actions={["ctrl-x"]={b.arg_del,b.resume}}}d.defaults.oldfiles={previewer=d._default_previewer_fn,prompt="History> ",file_icons=true and d._has_devicons,color_icons=true,git_icons=false,stat_file=true,fzf_opts={["--tiebreak"]="index"},_actions=function()return d.globals.actions.files end}d.defaults.quickfix={previewer=d._default_previewer_fn,prompt="Quickfix> ",separator="▏",file_icons=true and d._has_devicons,color_icons=true,git_icons=false,_actions=function()return d.globals.actions.files end}d.defaults.quickfix_stack={prompt="Quickfix Stack> ",marker=">",previewer={_ctor=c.builtin.quickfix},actions={["default"]=b.set_qflist}}d.defaults.loclist={previewer=d._default_previewer_fn,prompt="Locations> ",separator="▏",file_icons=true and d._has_devicons,color_icons=true,git_icons=false,_actions=function()return d.globals.actions.files end}d.defaults.loclist_stack={prompt="Locations Stack> ",marker=">",previewer={_ctor=c.builtin.quickfix},actions={["default"]=b.set_qflist}}d.defaults.buffers={previewer=d._default_previewer_fn,prompt="Buffers> ",file_icons=true and d._has_devicons,color_icons=true,sort_lastused=true,show_all_buffers=true,ignore_current_buffer=false,no_action_set_cursor=true,cwd_only=false,cwd=nil,fzf_opts={["--tiebreak"]="index"},_actions=function()return d.globals.actions.buffers end,actions={["ctrl-x"]={b.buf_del,b.resume}}}d.defaults.tabs={previewer=d._default_previewer_fn,prompt="Tabs> ",tab_title="Tab",tab_marker="<<",file_icons=true and d._has_devicons,color_icons=true,_actions=function()return d.globals.actions.buffers end,actions={["default"]=b.buf_switch,["ctrl-x"]={b.buf_del,b.resume}},fzf_opts={["--delimiter"]="'[\\):]'",["--with-nth"]="2.."}}d.defaults.lines={previewer=d._default_previewer_fn,prompt="Lines> ",file_icons=true and d._has_devicons,color_icons=true,show_unlisted=false,no_term_buffers=true,fzf_opts={["--delimiter"]="'[\\]:]'",["--nth"]="2..",["--tiebreak"]="index",["--tabstop"]="1"},_actions=function()return d.globals.actions.buffers end,actions={["default"]=b.buf_edit_or_qf,["alt-q"]=b.buf_sel_to_qf,["alt-l"]=b.buf_sel_to_ll}}d.defaults.blines={previewer=d._default_previewer_fn,prompt="BLines> ",file_icons=false,color_icons=false,show_unlisted=true,no_term_buffers=false,fzf_opts={["--delimiter"]="'[:]'",["--with-nth"]="2..",["--tiebreak"]="index",["--tabstop"]="1"},_actions=function()return d.globals.actions.buffers end,actions={["default"]=b.buf_edit_or_qf,["alt-q"]=b.buf_sel_to_qf,["alt-l"]=b.buf_sel_to_ll}}d.defaults.tags={previewer={_ctor=c.builtin.tags},prompt="Tags> ",ctags_file=nil,rg_opts="--no-heading --color=always --smart-case",grep_opts="--color=auto --perl-regexp",multiprocess=true,file_icons=true and d._has_devicons,git_icons=true,color_icons=true,_actions=function()return d.globals.actions.files end,actions={["ctrl-g"]={b.grep_lgrep}}}d.defaults.btags={previewer={_ctor=c.builtin.tags},prompt="BTags> ",ctags_file=nil,rg_opts="--no-heading --color=always",grep_opts="--color=auto --perl-regexp",multiprocess=true,file_icons=true and d._has_devicons,git_icons=true,color_icons=true,fzf_opts={["--delimiter"]="'[:]'",["--with-nth"]="2..",["--tiebreak"]="index"},_actions=function()return d.globals.actions.files end,actions={["ctrl-g"]=false}}d.defaults.colorschemes={prompt="Colorschemes> ",live_preview=true,actions={["default"]=b.colorscheme},winopts={height=0.55,width=0.50}}d.defaults.highlights={prompt="highlights> ",previewer={_ctor=c.builtin.highlights}}d.defaults.helptags={prompt="Help> ",actions={["default"]=b.help,["ctrl-s"]=b.help,["ctrl-v"]=b.help_vert,["ctrl-t"]=b.help_tab},fzf_opts={["--delimiter"]="'[ ]'",["--with-nth"]="..-2"},previewer={_ctor=c.builtin.help_file}}d.defaults.manpages={prompt="Man> ",cmd="man -k .",actions={["default"]=b.man,["ctrl-s"]=b.man,["ctrl-v"]=b.man_vert,["ctrl-t"]=b.man_tab},fzf_opts={["--tiebreak"]="begin"},previewer="man"}d.defaults.lsp={previewer=d._default_previewer_fn,prompt_postfix="> ",file_icons=true and d._has_devicons,color_icons=true,git_icons=false,cwd_only=false,async_or_timeout=5000,_actions=function()return d.globals.actions.files end}d.defaults.lsp.symbols={previewer=d._default_previewer_fn,prompt_postfix="> ",file_icons=true and d._has_devicons,color_icons=true,git_icons=false,symbol_style=1,symbol_icons={File="",Module="",Namespace="󰦮",Package="",Class="",Method="",Property="",Field="",Constructor="",Enum="",Interface="",Function="",Variable="",Constant="",String="",Number="󰎠",Boolean="󰨙",Array="󱡠",Object="",Key="",Null="󰟢",EnumMember="",Struct="",Event="",Operator="",TypeParameter="󰗴"},symbol_hl=function(f)return"@"..f:lower()end,symbol_fmt=function(f,g)return"["..f.."]"end,child_prefix=true,async_or_timeout=true,_actions=function()return d.globals.actions.files end,actions={["ctrl-g"]={b.sym_lsym}}}d.defaults.lsp.finder={previewer=d._default_previewer_fn,prompt="LSP Finder> ",file_icons=true and d._has_devicons,color_icons=true,git_icons=false,async=true,silent=true,separator="| ",_actions=function()return d.globals.actions.files end,_providers={references=true,definitions=true,declarations=true,typedefs=true,implementations=true,incoming_calls=true,outgoing_calls=true},providers={{"declarations",prefix=a.ansi_codes.magenta("decl")},{"implementations",prefix=a.ansi_codes.green("impl")},{"definitions",prefix=a.ansi_codes.green("def ")},{"typedefs",prefix=a.ansi_codes.red("tdef")},{"references",prefix=a.ansi_codes.blue("ref ")},{"incoming_calls",prefix=a.ansi_codes.cyan("in  ")},{"outgoing_calls",prefix=a.ansi_codes.yellow("out ")}}}d.defaults.lsp.code_actions={prompt="Code Actions> ",async_or_timeout=5000,winopts={row=0.40,height=0.35,width=0.60}}d.defaults.diagnostics={previewer=d._default_previewer_fn,prompt="Diagnostics> ",file_icons=true and d._has_devicons,color_icons=true,git_icons=false,diag_icons=true,_actions=function()return d.globals.actions.files end}d.defaults.builtin={prompt="Builtin> ",winopts={height=0.65,width=0.50},actions={["default"]=b.run_builtin}}d.defaults.profiles={previewer=d._default_previewer_fn,prompt="FzfLua profiles> ",fzf_opts={["--delimiter"]="'[:]'",["--with-nth"]="2.."},actions={["default"]=b.apply_profile}}d.defaults.marks={prompt="Marks> ",actions={["default"]=b.goto_mark},previewer={_ctor=c.builtin.marks}}d.defaults.jumps={prompt="Jumps> ",cmd="jumps",actions={["default"]=b.goto_jump},previewer={_ctor=c.builtin.jumps}}d.defaults.tagstack={prompt="Tagstack> ",file_icons=true and d._has_devicons,color_icons=true,git_icons=true,previewer=d._default_previewer_fn,_actions=function()return d.globals.actions.files end}d.defaults.commands={prompt="Commands> ",actions={["default"]=b.ex_run}}d.defaults.autocmds={prompt="Autocmds> ",previewer={_ctor=c.builtin.autocmds},_actions=function()return d.globals.actions.files end,fzf_opts={["--delimiter"]="'[:]'",["--with-nth"]="3.."}}d.defaults.command_history={prompt="Command History> ",fzf_opts={["--tiebreak"]="index"},actions={["default"]=b.ex_run_cr,["ctrl-e"]=b.ex_run}}d.defaults.search_history={prompt="Search History> ",fzf_opts={["--tiebreak"]="index"},actions={["default"]=b.search_cr,["ctrl-e"]=b.search}}d.defaults.registers={prompt="Registers> ",ignore_empty=true,actions={["default"]=b.paste_register}}d.defaults.keymaps={prompt="Keymaps> ",fzf_opts={["--tiebreak"]="index"},actions={["default"]=b.keymap_apply}}d.defaults.spell_suggest={prompt="Spelling Suggestions> ",actions={["default"]=b.spell_apply}}d.defaults.filetypes={prompt="Filetypes> ",actions={["default"]=b.set_filetype}}d.defaults.packadd={prompt="packadd> ",actions={["default"]=b.packadd}}d.defaults.menus={prompt="Menu> ",actions={["default"]=b.exec_menu}}d.defaults.tmux={buffers={prompt="Tmux Buffers> ",cmd="tmux list-buffers",register=[["]],actions={["default"]=b.tmux_buf_set_reg}}}d.defaults.dap={commands={prompt="DAP Commands> "},configurations={prompt="DAP Configurations> "},variables={prompt="DAP Variables> "},frames={prompt="DAP Frames> "},breakpoints={prompt="DAP Breakpoints> ",file_icons=true and d._has_devicons,color_icons=true,git_icons=true,previewer=d._default_previewer_fn,_actions=function()return d.globals.actions.files end,fzf_opts={["--delimiter"]="'[\\]:]'",["--with-nth"]="2.."}}}d.defaults.complete_path={cmd=nil,actions={["default"]=b.complete_insert}}d.defaults.complete_file={cmd=nil,multiprocess=true,file_icons=true and d._has_devicons,color_icons=true,git_icons=false,_actions=function()return d.globals.actions.files end,actions={["default"]=b.complete_insert},previewer=d._default_previewer_fn,winopts={preview={hidden="hidden"}}}d.defaults.complete_line={}d.defaults.complete_bline={}d.defaults.file_icon_padding=""d.defaults.file_icon_colors={}return d
