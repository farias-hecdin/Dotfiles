local a={}local b={}function a.run(c)local d='LSP server: '..c;local e=function(f)return string.format('%s\n%s',d,f)end;do local g=b.configured(c)local f="- hasn't been configured with lspconfig"if g then f='+ was configured using lspconfig'end;d=e(f)end;do local g=b.is_executable(c,true)if g.cmd==''then print(d)return end;local f=string.format('- "%s" was not found.',g.cmd)if g.result then f=string.format('+ "%s" is executable',g.cmd)end;d=e(f)end;do local h=require('lspconfig.util')local i=h.get_active_client_by_name(0,c)if i then d=e('+ is active in the current buffer')end end;print(d)end;function a.executable(c)local j='LSP server: '..c;local g=b.is_executable(c,false)if g.cmd==''then local f='- "%s" is not supported by lspconfig'print(f:format(c))return end;local f=string.format('- "%s" was not found.',g.cmd)if g.result then f=string.format('+ "%s" is executable',g.cmd)end;print(j)print(f)end;function a.inspect_settings(c)local h=require('lspconfig.util')local i=h.get_active_client_by_name(0,c)if i==nil then local f='* "%s" is not active in the current buffer'print(f:format(c))return end;print(vim.inspect(i.config.settings))end;function a.inspect_server_config(c)local h=require('lspconfig.util')local i=h.get_active_client_by_name(0,c)if i==nil then local f='* "%s" is not active in the current buffer'print(f:format(c))return end;print(vim.inspect(i.config))end;function b.configured(c)local h=require('lspconfig.util')local k=h.available_servers()return vim.tbl_contains(k,c)end;function b.is_executable(c,l)local m=require('lspconfig.configs')local n=m[c]if n==nil and l then return{cmd='',result=false}end;if n==nil then local o=string.format('lspconfig.server_configurations.%s',c)local p,q=pcall(require,o)if p==false or not q.default_config then return{cmd='',result=false}end;n=q.default_config end;local r=n.cmd[1]if r=='cmd.exe'and n.cmd[2]=='/C'then r=n.cmd[3]end;return{cmd=r,result=vim.fn.executable(r)==1}end;return a
