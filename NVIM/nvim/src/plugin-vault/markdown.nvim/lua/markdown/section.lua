local a={}a.__index=a;a.OMIT_LEVEL={none=0,heading=1,section=2}local function b(c,d,e,f)return setmetatable({name=c or"root",parent=d,level=e or d and d.level+1 or 0,line=f or-1,omit=a.OMIT_LEVEL.none,children={}},a)end;function a:add_subsection(c,e,f)assert(e>self.level)local g=b(c,self,e,f)table.insert(self.children,g)return g end;function a:get_root()local h=self;while h.level>0 do h=h.parent end;return h end;function a:get_parent(e)e=e or self.level;if e>self.level then return self end;assert(e>0)local i=self.parent;while i.level>=e do i=i.parent end;return i end;function a.new()return b()end;return a
