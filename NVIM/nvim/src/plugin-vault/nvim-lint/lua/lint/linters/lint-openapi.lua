local function a(b)b=b or 0;local c,d=string.gsub(vim.api.nvim_buf_get_name(b),'\\','/')return c end;local e={error=vim.diagnostic.severity.ERROR,warning=vim.diagnostic.severity.WARN,information=vim.diagnostic.severity.INFO,hint=vim.diagnostic.severity.HINT}return{cmd='lint-openapi.cmd',stdin=true,args={'--json',a(0)},ignore_exitcode=true,append_fname=false,parser=function(f,d)if vim.trim(f)==''then return{}end;local g=vim.fn.json_decode(f)local h={}local i=g['errors']local j=g['warnings']for d,k in pairs(i or{})do table.insert(h,{lnum=k.line-1,end_lnum=k.line-1,col=1,end_col=1,message=k.message..' | rule: '..k.rule,source='lint-openapi',severity=e['error']})end;for d,k in pairs(j or{})do table.insert(h,{lnum=k.line-1,end_lnum=k.line-1,col=1,end_col=1,message=k.message..' | rule: '..k.rule,source='lint-openapi',severity=e['warning']})end;return h end}
