local a={ERROR=vim.diagnostic.severity.ERROR,WARNING=vim.diagnostic.severity.WARN}return{cmd='phpcs',stdin=true,args={'-q','--report=json','-'},ignore_exitcode=true,parser=function(b,c)if vim.trim(b)==''or b==nil then return{}end;if not vim.startswith(b,'{')then vim.notify(b)return{}end;local d=vim.json.decode(b)local e={}local f=d['files']['STDIN']['messages']for c,g in ipairs(f or{})do table.insert(e,{lnum=g.line-1,end_lnum=g.line-1,col=g.column-1,end_col=g.column-1,message=g.message,code=g.source,source='phpcs',severity=assert(a[g.type],'missing mapping for severity '..g.type)})end;return e end}
