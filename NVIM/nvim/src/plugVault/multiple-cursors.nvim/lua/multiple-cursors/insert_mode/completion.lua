local a={}local b=require("multiple-cursors.common")local c=require("multiple-cursors.virtual_cursors")local d=false;local function e(f,g,h)local i=h:len()local j=vim.fn.min({g-1,i})while j>0 do local k=f:sub(g-j,g-1)local l=h:sub(1,j)if k:lower()==l:lower()then break end;j=j-1 end;return j,i-j end;function a.complete_if_selected()local m=vim.fn.complete_info()if m.selected>=0 then local h=m.items[m.selected+1].word;c.edit_with_cursor(function(n)local f=vim.fn.getline(n.lnum)local j,o=e(f,n.col,h)if j>0 then vim.cmd("normal! \"_"..j.."X")end;if b.is_mode("R")or b.is_mode("Rc")then if o>0 then vim.cmd("normal! \"_"..o.."x")end end;vim.api.nvim_put({h},"c",false,true)end)d=true;return true end;return false end;function a.complete_done_pre(p)if not d then a.complete_if_selected()end;d=false end;return a
