local a=require('treesj.utils')local b=require('treesj.notify')local c=b.msg;local d={}function d.search_node_up(e,f)if not e then return nil end;if not a.has_preset(e)then e=e:parent()return d.search_node_up(e,f)end;return e end;function d.search_inside_node(e,g)if not e then return nil end;local h;g=g or a.get_targets(e)for i in e:iter_children()do if vim.tbl_contains(g,i:type())then h=i else h=d.search_inside_node(i,g)end;if h and a.has_preset(h)then return h end end;return nil end;function d.get_configured_node(e)if not e then error(c.node_not_received,0)end;local f=a.get_node_lang(e)if not a.is_lang_support(f)then error(c.no_configured_lang:format(f),0)end;local j=e:type()e=d.search_node_up(e,f)if not e then error(c.no_configured_node:format(j,f),0)end;local k;if a.has_targets(e)then k=e:type()e=d.search_inside_node(e)if not e then error(c.no_contains_target_node:format(k),0)end end;return e end;return d
